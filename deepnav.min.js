function DeepNav(t,e){this.id=t,this.resizeId,this.settings={},this.originalHoverMode=!1,e&&void 0!==e.hoverMode?(this.settings.hoverMode=e.hoverMode,this.originalHoverMode=e.hoverMode):(this.originalHoverMode=!1,this.settings.hoverMode=!1),e&&void 0!==e.alignSubmenus?this.settings.alignSubmenus=e.alignSubmenus:this.settings.alignSubmenus="center",e&&void 0!==e.showContentArrows?this.settings.showContentArrows=e.showContentArrows:this.settings.showContentArrows=!0,e&&void 0!==e.showDefaultAnimations?this.settings.showDefaultAnimations=e.showDefaultAnimations:this.settings.showDefaultAnimations=!0,e&&void 0!==e.showAestheticStyling?this.settings.showAestheticStyling=e.showAestheticStyling:this.settings.showAestheticStyling=!0,e&&void 0!==e.displayMode?this.settings.displayMode=e.displayMode:this.settings.displayMode="responsive",e&&void 0!==e.breakpoint?this.settings.breakpoint=e.breakpoint:this.settings.breakpoint=500,this.bindEvents=function(){for(var t=0;t<this.topLevels.length;t++)this.topLevels[t].addEventListener("mouseenter",this.hoverTopLevel.bind(this)),this.topLevels[t].addEventListener("click",this.toggleShown.bind(this));for(t=0;t<this.subLevels.length;t++)this.subLevels[t].addEventListener("mouseenter",this.hoverSubLevel.bind(this)),this.subLevels[t].addEventListener("click",this.toggleShown.bind(this));this.navRoot.addEventListener("mouseleave",this.unhover.bind(this)),document.addEventListener("click",this.closeAll.bind(this)),this.navRoot.addEventListener("click",function(t){t.stopPropagation()})},this.resizeScreen=function(){if("responsive"===this.settings.displayMode?window.innerWidth<this.settings.breakpoint?(this.navRoot.classList.add("stacked"),this.settings.hoverMode=!1):(this.navRoot.classList.remove("stacked"),this.settings.hoverMode=this.originalHoverMode):"stacked"==this.settings.displayMode?this.navRoot.classList.add("stacked"):this.navRoot.classList.remove("stacked"),!this.navRoot.classList.contains("stacked"))for(var t=0;t<this.topLevels.length;t++){var e=this.topSublinks[t],i=this.topLevels[t].getBoundingClientRect();if(e.style.width=e.scrollWidth+"px",e.style.top=i.bottom+"px","right"===this.settings.alignSubmenus)e.style.left="auto",e.style.right=window.innerWidth-i.right,e.getBoundingClientRect().left<0&&(e.style.right="auto",e.style.left=i.left+"px");else if("center"===this.settings.alignSubmenus){var s=(i.right-i.left)/2;e.style.left=i.left+s-e.scrollWidth/2+"px",e.style.right="auto",e.getBoundingClientRect().left<0&&(e.style.right="auto",e.style.left=i.left+"px"),e.getBoundingClientRect().left+e.scrollWidth>window.innerWidth&&(e.style.left="auto",e.style.right=window.innerWidth-i.right+"px")}else{e.style.left=i.left+"px",e.style.right="auto",e.getBoundingClientRect().left+e.scrollWidth>window.innerWidth&&(e.style.left="auto",e.style.right=window.innerWidth-i.right+"px")}}},this.hoverTopLevel=function(t){"all"!==this.settings.hoverMode&&"top_only"!==this.settings.hoverMode||this.open(t)},this.hoverSubLevel=function(t){"all"===this.settings.hoverMode&&this.open(t)},this.unhover=function(t){"all"!==this.settings.hoverMode&&"top_only"!==this.settings.hoverMode||this.close(t)},this.open=function(t){for(var e=t.target.parentElement.querySelectorAll(".deepnav-link"),i=0;i<e.length;i++)e[i].classList.remove("nav-list-open");t.target.classList.add("nav-list-open")},this.close=function(t){if("mouseleave"!==t.type||t.releatedTarget||t.toElement){for(var e=t.target.parentElement.querySelectorAll(".deepnav-link"),i=0;i<e.length;i++)e[i].classList.remove("nav-list-open");var s=t.target.querySelectorAll(".deepnav-link");for(i=0;i<s.length;i++)s[i].classList.remove("nav-list-open");t.target.classList.remove("nav-list-open")}},this.closeAll=function(t){for(var e=0;e<this.navLinks.length;e++)this.navLinks[e].classList.remove("nav-list-open")},this.toggleShown=function(t){t.target.classList.contains("nav-list-open")?this.close(t):this.open(t)},this.init=function(){this.navRoot=document.getElementById(this.id),this.navLinks=document.getElementsByClassName("deepnav-link"),this.topLevels=document.querySelectorAll("#"+this.id+" > .deepnav-link"),this.subLevels=document.querySelectorAll("#"+this.id+" .sublinks > .deepnav-link"),this.sublinks=document.getElementsByClassName("sublinks"),this.topSublinks=document.querySelectorAll("#"+this.id+" > .sublinks"),null===document.getElementById(this.id+"DeepNavStyle")&&(this.primarystyle=document.createElement("style"),this.primarystyle.innerHTML="#"+this.id+" .sublinks { display: hidden; padding: 0; margin: 0; }#"+this.id+" .nav-list-open + .sublinks { display: block; }#"+this.id+" .sublinks a { display: block; }#"+this.id+" .sublinks { white-space: nowrap; }#"+this.id+":not(.stacked) > .sublinks { position: absolute; }#"+this.id+" .sublinks > .sublinks { position: relative; padding-top: 0; padding-bottom: 0; padding-right: 0; }",this.settings.showContentArrows&&(this.primarystyle.innerHTML+=".sublinks .deepnav-link:not(.nav-list-open)::after { padding-left: .5em; content: '▾'; }#"+this.id+" .sublinks .deepnav-link.nav-list-open::after { padding-left: .5em; content: '▴'; }"),this.settings.showDefaultAnimations&&(this.primarystyle.innerHTML+=".sublinks {\tmax-height: 0;\ttransition: max-height .5s cubic-bezier(0, 1, 0, 1), padding .5s, margin .5s, border-width 1s; overflow: hidden; }#"+this.id+" .nav-list-open + .sublinks { max-height: 1000px; transition: max-height 1s ease-in-out; }"),this.settings.showAestheticStyling&&(this.primarystyle.innerHTML+="#"+this.id+" { white-space: nowrap; background-color: #DFDCE3; padding: .5em; }#"+this.id+" > a { margin: .5rem; padding: .5rem; }#"+this.id+" > a:hover { background-color: #F7B733; }#"+this.id+" a:hover { color: white; cursor: pointer; }#"+this.id+" > .deepnav-link { margin: 0 .5em; }#"+this.id+" > .sublinks { background-color: white; }#"+this.id+" > .deepnav-link:not(.nav-list-open) + .sublinks { border-width: 0; }#"+this.id+" > .sublinks { border-style: solid; border-width: 2px; border-top-style: none; border-color: #DFDCE3; }#"+this.id+" > .sublinks a { padding: .5em; }#"+this.id+" .sublinks > .sublinks { padding-left: 1em; border-left-style: solid; border-left-width: 2px; border-color: #dfdce3; background: none; }#"+this.id+" .sublinks > .sublinks a { padding-left: 1em; }#"+this.id+" .sublinks a:hover { color: white; background-color: #F7B733; }#"+this.id+" > .nav-list-open { background-color: #F7B733; color: white; }",this.primarystyle.innerHTML+="#"+this.id+".stacked { max-width: 15em; }#"+this.id+".stacked > .sublinks { margin-left: 1em; border: none; }#"+this.id+".stacked > .sublinks > .sublinks { border-left-style: none; }#"+this.id+".stacked > .deepnav-link { padding: .25em; margin-left: 1em; line-height: 150%; }",this.primarystyle.id=this.id+"DeepNavStyle"),document.head.insertAdjacentElement("afterbegin",this.primarystyle));var t=this;window.addEventListener("resize",function(){clearTimeout(t.resizeId),t.resizeId=setTimeout(t.resizeScreen.bind(t),500)}),this.bindEvents(),this.resizeScreen()},this.init()}var nav=new DeepNav("deepnav",{alignSubmenus:"center",hoverMode:"top_only"}),nav2=new DeepNav("deepnav2",{displayMode:"stacked"});