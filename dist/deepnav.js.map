{"version":3,"file":"deepnav.js","sources":["../src/deepnav.js"],"sourcesContent":["module.exports = class DeepNav {\r\n\r\n\tconstructor(id, options) {\r\n\t\tthis.id = id //Reference to user-passed id of navigation\r\n\t\tthis.resizeId //Timeout for calling resize (used in init())\r\n\t\t\r\n\t\t//Handle options\r\n\t\tthis.settings = {}\r\n\t\tthis.originalHoverMode = false\r\n\r\n\t\tif(options && options.hoverMode !== undefined){\r\n\t\t\tthis.settings.hoverMode = options.hoverMode\r\n\t\t\tthis.originalHoverMode = options.hoverMode\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.originalHoverMode = false\r\n\t\t\tthis.settings.hoverMode = false\r\n\t\t}\r\n\r\n\t\tif(options && options.alignSubmenus !== undefined) this.settings.alignSubmenus = options.alignSubmenus\r\n\t\telse this.settings.alignSubmenus = \"center\"\r\n\r\n\t\tif(options && options.showContentArrows !== undefined) this.settings.showContentArrows = options.showContentArrows\r\n\t\telse this.settings.showContentArrows = true\r\n\r\n\t\tif(options && options.showDefaultAnimations !== undefined) this.settings.showDefaultAnimations = options.showDefaultAnimations\r\n\t\telse this.settings.showDefaultAnimations = true\r\n\r\n\t\tif(options && options.showAestheticStyling !== undefined) this.settings.showAestheticStyling = options.showAestheticStyling\r\n\t\telse this.settings.showAestheticStyling = true\r\n\r\n\t\tif(options && options.displayMode !== undefined) this.settings.displayMode = options.displayMode\r\n\t\telse this.settings.displayMode = 'responsive'\r\n\r\n\t\tif(options && options.breakpoint !== undefined) this.settings.breakpoint = options.breakpoint\r\n\t\telse this.settings.breakpoint = 500\r\n\r\n\t\t//Bind (or rebind) event listeners\r\n\t\tthis.bindEvents = function() {\r\n\r\n\t\t\t//Click and hover listeners\r\n\t\t\tfor(var i=0; i < this.topLevels.length; i++) {\r\n\t\t\t\tthis.topLevels[i].addEventListener('mouseenter', this.hoverTopLevel.bind(this))\r\n\t\t\t\tthis.topLevels[i].addEventListener('click', this.toggleShown.bind(this))\r\n\t\t\t}\r\n\r\n\t\t\tfor(var i=0; i < this.subLevels.length; i++) {\r\n\t\t\t\tthis.subLevels[i].addEventListener('mouseenter', this.hoverSubLevel.bind(this))\r\n\t\t\t\tthis.subLevels[i].addEventListener('click', this.toggleShown.bind(this))\r\n\t\t\t}\r\n\r\n\t\t\tthis.navRoot.addEventListener('mouseleave', this.unhover.bind(this))\r\n\t\t\t\t\r\n\t\t\t//Handle click on body (outside of menu)\r\n\t\t\tdocument.addEventListener('click', this.closeAll.bind(this))\r\n\t\t\tthis.navRoot.addEventListener('click', function(e){ e.stopPropagation() })\r\n\t\t}\r\n\r\n\t\tthis.resizeScreen = function() {\r\n\t\t\t//Show sublinks (to calc actual widths)\r\n\t\t\tthis.CSSoverrider.innerHTML = '#' + this.id + \" .sublinks { max-height: 1000px; visibility: visible; transition: none; }\"\r\n\r\n\t\t\t//Get full width of menus\r\n\t\t\tif(this.settings.displayMode !== 'stacked') {\r\n\t\t\t\tfor(var i=0; i<this.topLevels.length; i++) {\r\n\t\t\t\t\tvar mainSubmenu = this.topSublinks[i]\r\n\t\t\t\t\tmainSubmenu.style.width = mainSubmenu.scrollWidth + 'px'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Hide sublinks\r\n\t\t\tthis.CSSoverrider.innerHTML = '#' + this.id + \" .sublinks { transition: none; }\"\r\n\t\t\tsetTimeout(()=>{ this.CSSoverrider.innerHTML = \"\" }, 300) //Delay restoration of transition property to avoid initial shrink\r\n\r\n\t\t\t//Set display\r\n\t\t\tif(this.settings.displayMode === 'responsive') {\r\n\t\t\t\tif(window.innerWidth < this.settings.breakpoint) {\r\n\t\t\t\t\tthis.navRoot.classList.add('stacked')\r\n\t\t\t\t\tthis.settings.hoverMode = false //Disable hover if stacked and in responsive mode\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.navRoot.classList.remove('stacked')\r\n\t\t\t\t\tthis.settings.hoverMode = this.originalHoverMode //reset any changes to original value on resize\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\telse if(this.settings.displayMode == 'stacked') {\r\n\t\t\t\tthis.navRoot.classList.add('stacked')\r\n\t\t\t}\r\n\r\n\t\t\telse { //Only show horizontal\r\n\t\t\t\tthis.navRoot.classList.remove('stacked')\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.navRoot.classList.contains('stacked')) {\r\n\t\t\t\t//Align submenus on resize\r\n\t\t\t\tfor(var i=0; i<this.topLevels.length; i++) {\r\n\t\t\t\t\tvar mainSubmenu = this.topSublinks[i]\r\n\t\t\t\t\tvar rect = this.topLevels[i].getBoundingClientRect()\r\n\r\n\t\t\t\t\t//Set styles\r\n\t\t\t\t\tmainSubmenu.style.top = rect.bottom + 'px'\r\n\r\n\t\t\t\t\tif(this.settings.alignSubmenus === 'right') {\r\n\t\t\t\t\t\tmainSubmenu.style.left = 'auto'\r\n\t\t\t\t\t\tmainSubmenu.style.right = window.innerWidth - rect.right\r\n\r\n\t\t\t\t\t\tvar subrect = mainSubmenu.getBoundingClientRect()\r\n\t\t\t\t\t\tif(subrect.left < 0) { //Ensure  we aren't off-screen\r\n\t\t\t\t\t\t\tmainSubmenu.style.right = 'auto'\r\n\t\t\t\t\t\t\tmainSubmenu.style.left = rect.left + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(this.settings.alignSubmenus === 'center') {\r\n\t\t\t\t\t\tvar rectHalfWidth = (rect.right - rect.left) / 2\r\n\t\t\t\t\t\tmainSubmenu.style.left = rect.left + rectHalfWidth - mainSubmenu.clientWidth/2 + 'px'\r\n\t\t\t\t\t\tmainSubmenu.style.right = 'auto'\r\n\r\n\t\t\t\t\t\tvar subrect = mainSubmenu.getBoundingClientRect()\r\n\t\t\t\t\t\tif(subrect.left < 0) { //Ensure  we aren't off-screen\r\n\t\t\t\t\t\t\tmainSubmenu.style.right = 'auto'\r\n\t\t\t\t\t\t\tmainSubmenu.style.left = rect.left + 'px'\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar subrectRight = mainSubmenu.getBoundingClientRect().left + mainSubmenu.clientWidth\r\n\t\t\t\t\t\tif(subrectRight > window.innerWidth) { //Ensure we aren't off-screen\r\n\t\t\t\t\t\t\tmainSubmenu.style.left = 'auto'\r\n\t\t\t\t\t\t\tmainSubmenu.style.right = window.innerWidth - rect.right + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {//align left\r\n\t\t\t\t\t\tmainSubmenu.style.left = rect.left + 'px'\r\n\t\t\t\t\t\tmainSubmenu.style.right = 'auto'\r\n\r\n\t\t\t\t\t\tvar subrectRight = mainSubmenu.getBoundingClientRect().left + mainSubmenu.clientWidth\r\n\t\t\t\t\t\tif(subrectRight > window.innerWidth) { //Ensure we aren't off-screen\r\n\t\t\t\t\t\t\tmainSubmenu.style.left = 'auto'\r\n\t\t\t\t\t\t\tmainSubmenu.style.right = window.innerWidth - rect.right + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.hoverTopLevel = function(e) {\r\n\t\t\tif(this.settings.hoverMode === 'all' || this.settings.hoverMode === 'top_only')\r\n\t\t\t\tthis.open(e)\r\n\t\t}\r\n\r\n\t\tthis.hoverSubLevel = function(e) {\r\n\t\t\tif(this.settings.hoverMode === 'all')\r\n\t\t\t\tthis.open(e)\r\n\t\t}\r\n\r\n\t\tthis.unhover = function(e) {\r\n\t\t\tif(this.settings.hoverMode === 'all' || this.settings.hoverMode === 'top_only')\r\n\t\t\t\tthis.close(e)\r\n\t\t}\r\n\r\n\t\tthis.open = function(e) {\r\n\t\t\t//Check to make sure no other same-level links open\r\n\t\t\tvar sameLevel = e.target.parentElement.querySelectorAll('.deepnav-link')\r\n\t\t\tfor(var i=0; i < sameLevel.length; i++) {\r\n\t\t\t\tsameLevel[i].classList.remove('nav-list-open')\r\n\t\t\t}\r\n\r\n\t\t\te.target.classList.add('nav-list-open')\r\n\t\t}\r\n\r\n\t\tthis.close = function(e) {\r\n\t\t\t//Account for bug in Chrome (:-() that causes mouseleave event on click\r\n\t\t\tif(e.type === 'mouseleave' && (!e.releatedTarget && !e.toElement)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t//Check to make sure no other same-level links open\r\n\t\t\tvar sameLevel = e.target.parentElement.querySelectorAll('.deepnav-link')\r\n\t\t\tfor(var i=0; i < sameLevel.length; i++) {\r\n\t\t\t\tsameLevel[i].classList.remove('nav-list-open')\r\n\t\t\t}\r\n\r\n\t\t\t//Get all links\r\n\t\t\tvar children = e.target.querySelectorAll('.deepnav-link')\r\n\r\n\t\t\t//Close all child submenus\r\n\t\t\tfor(var i=0; i<children.length; i++) {\r\n\t\t\t\tchildren[i].classList.remove('nav-list-open')\r\n\t\t\t}\r\n\r\n\t\t\te.target.classList.remove('nav-list-open')\r\n\t\t}\r\n\r\n\t\tthis.closeAll = function(e) {\r\n\t\t\tfor(var i=0; i<this.navLinks.length; i++) {\r\n\t\t\t\tthis.navLinks[i].classList.remove('nav-list-open')\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.toggleShown = function(e) {\r\n\t\t\tif(e.target.classList.contains('nav-list-open'))\r\n\t\t\t\tthis.close(e)\r\n\t\t\telse\r\n\t\t\t\tthis.open(e)\r\n\t\t}\r\n\r\n\t\t//Initialization (or reinitialization, if need be (say, new navigation elements are dynamically added))\r\n\t\tthis.init = function() {\r\n\t\t\t//Main variables\r\n\t\t\tthis.navRoot = document.getElementById(this.id)\r\n\t\t\tthis.navLinks = document.getElementsByClassName('deepnav-link')\r\n\t\t\tthis.topLevels = document.querySelectorAll(\"#\" + this.id + ' > .deepnav-link')\r\n\t\t\tthis.subLevels = document.querySelectorAll('#' + this.id + ' .sublinks > .deepnav-link')\r\n\t\t\tthis.sublinks = document.getElementsByClassName('sublinks')\r\n\t\t\tthis.topSublinks = document.querySelectorAll(\"#\" + this.id + ' > .sublinks')\r\n\r\n\t\t\t//Set style if it doesn't already exist\r\n\t\t\tvar DeepNavStyle = document.getElementById(this.id + 'DeepNavStyle')\r\n\r\n\t\t\tif(DeepNavStyle === null) {\r\n\t\t\t\tthis.primarystyle = document.createElement('style')\r\n\t\t\t\tthis.primarystyle.innerHTML = \"#\" + this.id + \" .sublinks { visibility: hidden; pointer-events: none; padding: 0; margin: 0; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .nav-list-open + .sublinks { visibility: visible; pointer-events: auto; }\" + \r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks a { display: block; }\" + \r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks { white-space: nowrap; }\" + \r\n\t\t\t\t\t\"#\" + this.id + \":not(.stacked) > .sublinks { position: absolute; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks > .sublinks { position: relative; padding-top: 0; padding-bottom: 0; padding-right: 0; }\"\r\n\r\n\t\t\t\tif(this.settings.showContentArrows) {\r\n\t\t\t\t\tthis.primarystyle.innerHTML += \"#\" + this.id + \" .sublinks .deepnav-link:not(.nav-list-open)::after { padding-left: .5em; content: '▾'; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks .deepnav-link.nav-list-open::after { padding-left: .5em; content: '▴'; }\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.settings.showDefaultAnimations) {\r\n\t\t\t\t\tthis.primarystyle.innerHTML += \"#\" + this.id + \" .sublinks { visibility: visible; max-height: 0; transition: max-height .5s cubic-bezier(0, 1, 0, 1), padding .5s, margin .5s, border-width 1s; overflow: hidden; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .nav-list-open + .sublinks { max-height: 1000px; transition: max-height 1s ease-in-out; }\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.settings.showAestheticStyling) {\r\n\t\t\t\t\t//Base\r\n\t\t\t\t\tthis.primarystyle.innerHTML += \"#\" + this.id + \" { white-space: nowrap; background-color: #DFDCE3; padding: .5em; }\" + \r\n\t\t\t\t\t\"#\" + this.id + \" > a { margin: .5rem; padding: .5rem; }\" + \r\n\t\t\t\t\t\"#\" + this.id + \" > a:hover { background-color: #F7B733; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" a:hover { color: white; cursor: pointer; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .deepnav-link { margin: 0 .5em; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .sublinks { background-color: white; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .deepnav-link:not(.nav-list-open) + .sublinks { border-width: 0; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .sublinks { border-style: solid; border-width: 2px; border-top-style: none; border-color: #DFDCE3; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .sublinks a { padding: .5em; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks > .sublinks { padding-left: 1em; border-left-style: solid; border-left-width: 2px; border-color: #dfdce3; background: none; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks > .sublinks a { padding-left: 1em; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" .sublinks a:hover { color: white; background-color: #F7B733; }\" +\r\n\t\t\t\t\t\"#\" + this.id + \" > .nav-list-open { background-color: #F7B733; color: white; }\"\r\n\r\n\t\t\t\t\t//Stack\r\n\t\t\t\t\tthis.primarystyle.innerHTML += \"#\" + this.id + \".stacked { max-width: 15em; }\" +\r\n\t\t\t\t\t\t\"#\" + this.id + \".stacked > .sublinks { margin-left: 1em; border: none; }\" +\r\n\t\t\t\t\t\t\"#\" + this.id + \".stacked > .sublinks > .sublinks { border-left-style: none; }\" +\r\n\t\t\t\t\t\t\"#\" + this.id + \".stacked > .deepnav-link { padding: .25em; margin-left: 1em; line-height: 150%; }\"\r\n\r\n\t\t\t\t\tthis.primarystyle.id = this.id + 'DeepNavStyle'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.head.insertAdjacentElement('afterbegin', this.primarystyle)\r\n\r\n\t\t\t\t//Add style override tag\r\n\t\t\t\tthis.CSSoverrider = document.createElement('style')\r\n\t\t\t\tthis.CSSoverrider.id = this.id + 'Override'\r\n\t\t\t\tdocument.head.appendChild(this.CSSoverrider)\r\n\t\t\t}\r\n\r\n\t\t\t//Position submenus on resize\r\n\t\t\tvar context = this\r\n\t\t\twindow.addEventListener('resize', function(){\r\n\t\t\t\t//use timeout to prevent resize event from firing excessivley\r\n\t\t\t\tclearTimeout(context.resizeId);\r\n\t\t\t\tcontext.resizeId = setTimeout(context.resizeScreen.bind(context), 500);\r\n\t\t\t})\r\n\r\n\t\t\t//Initial resize and bind\r\n\t\t\tthis.bindEvents()\r\n\t\t\tthis.resizeScreen()\r\n\t\t}\r\n\r\n\t\t//Initialize DeepNav\r\n\t\tthis.init()\r\n\t}\r\n}"],"names":["module","exports","id","options","resizeId","settings","originalHoverMode","undefined","hoverMode","alignSubmenus","this","showContentArrows","showDefaultAnimations","showAestheticStyling","displayMode","breakpoint","bindEvents","i","topLevels","length","addEventListener","hoverTopLevel","bind","toggleShown","subLevels","hoverSubLevel","navRoot","unhover","document","closeAll","e","stopPropagation","resizeScreen","CSSoverrider","innerHTML","mainSubmenu","topSublinks","style","width","scrollWidth","setTimeout","_this","window","innerWidth","classList","add","remove","contains","rect","getBoundingClientRect","top","bottom","left","right","rectHalfWidth","clientWidth","open","close","sameLevel","target","parentElement","querySelectorAll","type","releatedTarget","toElement","children","navLinks","init","getElementById","getElementsByClassName","sublinks","primarystyle","createElement","head","insertAdjacentElement","appendChild","context","clearTimeout"],"mappings":"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"}